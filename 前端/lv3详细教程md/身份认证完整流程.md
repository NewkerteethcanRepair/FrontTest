# 整个身份认证流程

## 生成 token

1. 前端发送登录请求
2. 后端判断登录是否成功
3. 如果登录成功，生成 token
4. 将 token 返回给前端
5. 前端保存 token

##  发送 token

1. 进入有权限的限制的页面
2. 在该页面设置前置守卫
3. 在守卫函数中发送 isLogin 请求（请求目的是为了判断当前用户是否登录或是否有权限）
4. 设置 axios 请求拦截器
5. 获取前端的 token，添加到请求头中

## 验证 token

1. 后端验证 token
2. 配置 token 的验证规则
3. 将配置好的验证规则应用到服务端
4. 当 token 不通过验证，会自动返回 401 报错

## 反解码 token

1. 当 token 通过验证，会进入到对应的请求中
2. 如果需要获取用户数据，则先获取 token
3. 将 token 从字符串中拆分出来
4. 反解码 token，拿到用户信息
5. 返回用户信息给前端